(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{116:function(e,t,n){e.exports={main:"constructor-content_main__2hbfV"}},117:function(e,t,n){e.exports={tabs:"tabs_tabs__1dmZd"}},118:function(e,t,n){e.exports={list:"ingredients-list_list__lTAN1 pt-6 pl-4 pr-2"}},120:function(e,t,n){e.exports={content:"burger-constructor_content__TBw4u pl-4 mt-25"}},121:function(e,t,n){e.exports={overlay:"modal-overlay_overlay__3YpaF"}},122:function(e,t,n){e.exports={list:"feed-list_list__akl00 pl-2 pr-2"}},123:function(e,t,n){e.exports={wrapper:"ingredient_wrapper__qJhSW mt-30"}},124:function(e,t,n){e.exports={header:"app-header_header__i0rql pt-4 pb-4"}},125:function(e,t,n){e.exports={logo:"logo-wrapper_logo__3oE4n ml-4 mr-4"}},126:function(e,t,n){e.exports={profile:"profile-link_profile__12wNM"}},139:function(e,t,n){},15:function(e,t,n){e.exports={feedStats:"feed-stats_feedStats__PmXNW",flexWrapper:"feed-stats_flexWrapper__19OlV mb-15",list:"feed-stats_list__3jJt5",orderNumbers:"feed-stats_orderNumbers__20roQ",orderStatus:"feed-stats_orderStatus__1HSHf text text_type_main-medium mb-6",totalWrapper:"feed-stats_totalWrapper__1erNl mb-10",totalTitle:"feed-stats_totalTitle__2lH53 text text_type_main-medium",digits:"feed-stats_digits__1RTyx text text_type_digits-default mb-2",digitsLarge:"feed-stats_digitsLarge__2G4WU text_type_digits-large",textGreen:"feed-stats_textGreen__Awazz"}},19:function(e,t,n){e.exports={image:"ingredient-details_image__3A2QS",title:"ingredient-details_title__1Ot3N text text_type_main-large",name:"ingredient-details_name__2eP1H text text_type_main-medium",flexWrapper:"ingredient-details_flexWrapper__19hPY",text:"ingredient-details_text__2VirO text text_color_inactive",amount:"ingredient-details_amount__2_fpB text_type_digits-default"}},20:function(e,t,n){e.exports={item:"feed-item_item__1cWhM mb-4 p-6",flexWrapper:"feed-item_flexWrapper__2V8ns",order:"feed-item_order__lEhFM text text_type_digits-default",datetime:"feed-item_datetime__1mnUp text text_type_main-default text_color_inactive",name:"feed-item_name__1CpBo text text_type_main-medium mb-6",images:"feed-item_images__3DOjw mr-6",imagesItem:"feed-item_imagesItem__2sYyq text text_type_main-default",image:"feed-item_image__g4eRY",count:"feed-item_count__1BZZ1",priceWrapper:"feed-item_priceWrapper__aJjRV",price:"feed-item_price__2sBJY text text_type_digits-default mr-2"}},209:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(44),s=n.n(c),i=n(55),o=n(7),d=n(68),l=n(9),u=n(29),j=n(6),p=n(8),m=n.n(p),b=n(18),f=n(219),x="https://norma.nomoreparties.space/api",_="wss://norma.nomoreparties.space/orders",O="".concat(x,"/ingredients"),h="".concat(x,"/orders"),g="".concat(x,"/auth/register"),v="".concat(x,"/auth/login"),N="".concat(x,"/auth/logout"),y="".concat(x,"/auth/user"),w="".concat(x,"/auth/token"),C="".concat(x,"/password-reset"),I="".concat(x,"/password-reset/reset"),k="".concat(_,"/all"),W=n(220),L=n(127),T=n(129),E=function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))},S=function(e,t,n){return{method:e,headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify(n)}},M=function(e){var t=Object(W.a)(new Date(e),new Date,{locale:T.a}),n=t.charAt(0).toUpperCase()+t.slice(1).replace(" \u0432",","),r=Object(L.a)(new Date(e),"O").replace("GMT","i-GMT");return"".concat(n," ").concat(r)},B=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},R=function(e,t,n){var r="";if(n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),r="; expires="+a.toUTCString()}document.cookie=e+"="+(t||"")+r+"; path=/"},P=function(e){var t=e.accessToken.split("Bearer ")[1],n=e.refreshToken;R("accessToken",t),R("refreshToken",n)},D=function(e){document.cookie=e+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"},H=Object(l.c)("burger/createOrder",function(){var e=Object(b.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S("POST","Bearer ".concat(B("accessToken")),t),e.next=3,fetch(h,n);case 3:return r=e.sent,e.next=6,E(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),V=Object(l.c)("order/getOrderInfo",function(){var e=Object(b.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S("GET"),e.next=3,fetch("https://norma.nomoreparties.space/api/orders/".concat(t),n);case 3:return r=e.sent,e.next=6,E(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),G=Object(l.d)({name:"order",initialState:{orderId:null,constructorElementsIds:[],isLoading:!1,order:null,isOrderModalOpened:!1},reducers:{setOrderElementsIds:function(e,t){e.constructorElementsIds=t.payload},resetOrder:function(e){e.order=null},closeOrderModal:function(e){e.isOrderModalOpened=!1}},extraReducers:function(e){return e.addCase(H.pending,(function(e){e.isLoading=!0})).addCase(H.fulfilled,(function(e,t){e.isLoading=!1,e.orderId=t.payload.order.number,e.isOrderModalOpened=!0})).addCase(H.rejected,(function(e){e.orderId=null,e.isLoading=!1})).addCase(V.pending,(function(e){e.isLoading=!0})).addCase(V.fulfilled,(function(e,t){e.isLoading=!1,e.order=t.payload.orders[0]})).addCase(V.rejected,(function(e){e.order=null,e.isLoading=!1}))}}),U=G.reducer,F=G.actions,J=F.closeOrderModal,z=F.setOrderElementsIds,A=F.resetOrder,q=Object(l.c)("burger/getIngredients",Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(O);case 2:return t=e.sent,e.next=5,E(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))),Y=Object(l.d)({name:"burger",initialState:{ingredients:[],bun:null,constructorIngredients:[],isLoading:!1,hasError:!1},reducers:{addConstructorBun:function(e,t){e.bun=t.payload},addConstructorIngredient:{reducer:function(e,t){e.constructorIngredients.push(t.payload)},prepare:function(e){return{payload:Object(j.a)(Object(j.a)({},e),{},{constructorIngredientId:Object(f.a)()})}}},deleteConstructorIngredient:function(e,t){e.constructorIngredients=e.constructorIngredients.filter((function(e){return e.constructorIngredientId!==t.payload}))},moveConstructorItem:function(e,t){var n=Object(d.a)(e.constructorIngredients),r=n[t.payload.dragIndex],a=n[t.payload.hoverIndex];n[t.payload.hoverIndex]=r,n[t.payload.dragIndex]=a,e.constructorIngredients=n}},extraReducers:function(e){e.addCase(q.pending,(function(e){e.isLoading=!0,e.hasError=!1})).addCase(q.fulfilled,(function(e,t){e.isLoading=!1,e.hasError=!1,e.ingredients=t.payload.data})).addCase(q.rejected,(function(e){e.isLoading=!1,e.hasError=!0,e.ingredients=[]})).addCase(H.fulfilled,(function(e){e.bun=null,e.constructorIngredients=[]}))}}),Q=Y.reducer,Z=Y.actions,X=Z.addConstructorBun,K=Z.addConstructorIngredient,$=Z.deleteConstructorIngredient,ee=Z.moveConstructorItem,te=Object(l.c)("password/sendResetPasswordEmail",function(){var e=Object(b.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S("POST","",t),e.next=3,fetch(C,n);case 3:return r=e.sent,e.next=6,E(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ne=Object(l.c)("password/reset",function(){var e=Object(b.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S("POST","",t),e.next=3,fetch(I,n);case 3:return r=e.sent,e.next=6,E(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),re=Object(l.d)({name:"password",initialState:{isResetEmailSent:!1,isPasswordReset:!1,isLoading:!1},reducers:{},extraReducers:function(e){return e.addCase(te.pending,(function(e){e.isLoading=!0})).addCase(te.fulfilled,(function(e){e.isResetEmailSent=!0,e.isLoading=!1})).addCase(te.rejected,(function(e){e.isLoading=!1})).addCase(ne.pending,(function(e){e.isLoading=!0})).addCase(ne.fulfilled,(function(e){e.isPasswordReset=!0,e.isLoading=!1})).addCase(ne.rejected,(function(e){e.isLoading=!1}))}}).reducer,ae={isLoggedIn:!!B("accessToken"),user:null,isLoading:!1},ce=function(){var e=Object(b.a)(m.a.mark((function e(t,n){var r,a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,n);case 3:return r=e.sent,e.next=6,E(r);case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(0),"jwt expired"!==e.t0.message){e.next=24;break}return e.next=14,se();case 14:return a=e.sent,P(a),e.next=18,fetch(t,n);case 18:return c=e.sent,e.next=21,E(c);case 21:return e.abrupt("return",e.sent);case 24:return e.abrupt("return",Promise.reject(e.t0));case 25:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),se=function(){var e=Object(b.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=S("POST",B("refreshToken"),{token:B("refreshToken")}),e.next=3,fetch(w,t);case 3:return n=e.sent,e.next=6,E(n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=Object(l.c)("user/getUserInfoRequest",Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=S("GET","Bearer ".concat(B("accessToken"))),e.next=3,ce(y,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))),oe=Object(l.c)("user/updateUserInfoRequest",function(){var e=Object(b.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S("PATCH","Bearer ".concat(B("accessToken")),t),e.next=3,ce(y,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),de=Object(l.d)({name:"user",initialState:ae,reducers:{},extraReducers:function(e){return e.addCase(ie.pending,(function(e){e.isLoading=!0})).addCase(ie.fulfilled,(function(e,t){e.user=t.payload.user,e.isLoggedIn=!0,e.isLoading=!1})).addCase(ie.rejected,(function(e){e.isLoading=!1})).addCase(oe.pending,(function(e){e.isLoading=!0})).addCase(oe.fulfilled,(function(e,t){e.user=t.payload.user,e.isLoggedIn=!0,e.isLoading=!1})).addCase(oe.rejected,(function(e){e.isLoading=!1}))}}).reducer,le={isLoggedIn:!!B("accessToken"),user:null,isLoading:!1},ue=Object(l.c)("auth/registerRequest",function(){var e=Object(b.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S("POST","",t),e.next=3,fetch(g,n);case 3:return r=e.sent,e.next=6,E(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),je=Object(l.c)("auth/loginRequest",function(){var e=Object(b.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S("POST","",t),e.next=3,fetch(v,n);case 3:return r=e.sent,e.next=6,E(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),pe=Object(l.c)("auth/logoutRequest",Object(b.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=S("POST","",{token:B("refreshToken")}),e.next=3,fetch(N,t);case 3:return n=e.sent,e.next=6,E(n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))),me=Object(l.d)({name:"auth",initialState:le,reducers:{},extraReducers:function(e){return e.addCase(ue.pending,(function(e){e.isLoading=!0})).addCase(ue.fulfilled,(function(e,t){P(t.payload),e.isLoggedIn=!0,e.isLoading=!1})).addCase(ue.rejected,(function(e){e.isLoading=!1})).addCase(je.pending,(function(e){e.isLoading=!0})).addCase(je.fulfilled,(function(e,t){P(t.payload),e.user=t.payload.user,e.isLoggedIn=!0,e.isLoading=!1})).addCase(je.rejected,(function(e){e.isLoading=!1})).addCase(pe.pending,(function(e){e.isLoading=!0})).addCase(pe.fulfilled,(function(e){D("accessToken"),D("refreshToken"),e.user=null,e.isLoggedIn=!1,e.isLoading=!1})).addCase(pe.rejected,(function(e){e.isLoading=!1}))}}).reducer,be=Object(l.b)("WS_CONNECTION_START"),fe=Object(l.b)("WS_CONNECTION_CLOSE"),xe=Object(l.d)({name:"ordersFeed",initialState:{orders:[],total:0,totalToday:0,wsConnected:!1,error:!1},reducers:{wsConnectionOpened:function(e){e.wsConnected=!0,e.error=!1},wsConnectionClosed:function(e){e.wsConnected=!1,e.error=!1},wsConnectionError:function(e){e.wsConnected=!1,e.error=!0},wsGetMessage:function(e,t){var n=t.payload,r=n.orders,a=n.total,c=n.totalToday;e.orders=r,e.total=a,e.totalToday=c}}}),_e=xe.reducer,Oe=xe.actions,he=Oe.wsConnectionOpened,ge=Oe.wsConnectionError,ve=Oe.wsConnectionClosed,Ne=Oe.wsGetMessage,ye=Object(u.b)({burger:Q,order:U,password:re,auth:me,user:de,feed:_e}),we=[function(e){var t=null;return function(n){return function(r){var a=e.dispatch,c=r.type,s=r.payload;c===be.toString()&&(t=new WebSocket(s)),c===fe.toString()&&t&&t.close(),t&&(t.onopen=function(){return a(he())},t.onclose=function(){return a(ve())},t.onerror=function(){return a(ge())},t.onmessage=function(e){return a(Ne(JSON.parse(e.data)))}),n(r)}}}].concat(Object(d.a)(Object(l.e)())),Ce=Object(l.a)({reducer:ye,middleware:we,devTools:!1}),Ie=i.c,ke=function(){return Object(i.b)()},We=Ce,Le=(n(139),n(14)),Te=n(216),Ee=n(128),Se=n(116),Me=n.n(Se),Be=n(13),Re=n(70),Pe=n(93),De=n.n(Pe),He=n(117),Ve=n.n(He),Ge=n(3),Ue=n(0),Fe=function(e){var t=e.inViewBuns,n=e.inViewSauces,c=e.inViewMains,s=a.a.useState("\u0411\u0443\u043b\u043a\u0438"),i=Object(Be.a)(s,2),o=i[0],d=i[1],l=function(e,t){d(e);var n=document.getElementById(t);n&&n.scrollIntoView({behavior:"smooth"})};return Object(r.useEffect)((function(){t?d("\u0411\u0443\u043b\u043a\u0438"):n?d("\u0421\u043e\u0443\u0441\u044b"):c&&d("\u041d\u0430\u0447\u0438\u043d\u043a\u0438")}),[t,c,n]),Object(Ue.jsxs)("div",{className:"".concat(Ve.a.tabs,"  mb-10"),children:[Object(Ue.jsx)(Ge.Tab,{value:"\u0411\u0443\u043b\u043a\u0438",active:"\u0411\u0443\u043b\u043a\u0438"===o,onClick:function(){return l("\u0411\u0443\u043b\u043a\u0438","buns")},children:"\u0411\u0443\u043b\u043a\u0438"}),Object(Ue.jsx)(Ge.Tab,{value:"\u0421\u043e\u0443\u0441\u044b",active:"\u0421\u043e\u0443\u0441\u044b"===o,onClick:function(){return l("\u0421\u043e\u0443\u0441\u044b","sauces")},children:"\u0421\u043e\u0443\u0441\u044b"}),Object(Ue.jsx)(Ge.Tab,{value:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",active:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"===o,onClick:function(){return l("\u041d\u0430\u0447\u0438\u043d\u043a\u0438","main")},children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]})},Je=n(118),ze=n.n(Je),Ae=n(217),qe=n(38),Ye=n.n(qe),Qe=function(e){var t=e.ingredient,n=t.image,a=t.price,c=t.name,s=t._id,i=Object(Le.h)(),d=Ie((function(e){return e.burger})),l=d.constructorIngredients,u=d.bun,p=Object(r.useMemo)((function(){var e={};return l.forEach((function(t){e[t._id]||(e[t._id]=0),e[t._id]++})),u&&(e[u._id]=2),e}),[l,u]),m=Object(Ae.a)({type:"ingredient",item:Object(j.a)({},t),collect:function(e){return{isDragging:e.isDragging()}}}),b=Object(Be.a)(m,2),f=b[0].isDragging,x=b[1],_=f?.25:1;return Object(Ue.jsxs)("li",{className:Ye.a.item,style:{opacity:_},ref:x,children:[p[t._id]&&Object(Ue.jsx)(Ge.Counter,{count:p[t._id],size:"default"}),Object(Ue.jsx)(o.b,{className:Ye.a.link,to:{pathname:"/ingredients/".concat(s),state:{background:i}},children:Object(Ue.jsxs)(Ue.Fragment,{children:[Object(Ue.jsxs)("div",{className:Ye.a.ingredient,children:[Object(Ue.jsx)("img",{className:Ye.a.image,src:n,alt:c}),Object(Ue.jsxs)("div",{className:Ye.a.priceWrapper,children:[Object(Ue.jsx)("span",{className:Ye.a.price,children:a}),Object(Ue.jsx)(Ge.CurrencyIcon,{type:"primary"})]})]}),Object(Ue.jsx)("span",{className:Ye.a.name,children:c})]})})]})},Ze=function(e){var t=e.ingredients;return Object(Ue.jsx)("ul",{className:ze.a.list,children:t.map((function(e){return Object(Ue.jsx)(Qe,{ingredient:e},e._id)}))})},Xe=a.a.forwardRef((function(e,t){var n,a=e.title,c=e.type,s=e.groupId,i=Ie((function(e){return e.burger.ingredients})),o=Object(r.useMemo)((function(){return i.filter((function(e){return"bun"===e.type}))}),[i]),d=Object(r.useMemo)((function(){return i.filter((function(e){return"sauce"===e.type}))}),[i]),l=Object(r.useMemo)((function(){return i.filter((function(e){return"main"===e.type}))}),[i]);switch(c){case"bun":n=o;break;case"sauce":n=d;break;case"main":n=l;break;default:n=[]}return Object(Ue.jsxs)("div",{className:"mb-10",id:s,ref:t,children:[Object(Ue.jsx)("h2",{className:"mb-6  text  text_type_main-medium",children:a}),Object(Ue.jsx)(Ze,{ingredients:n})]})})),Ke=function(){var e=Object(Re.a)({threshold:0}),t=Object(Be.a)(e,2),n=t[0],r=t[1],a=Object(Re.a)({threshold:0}),c=Object(Be.a)(a,2),s=c[0],i=c[1],o=Object(Re.a)({threshold:0}),d=Object(Be.a)(o,2),l=d[0],u=d[1];return Object(Ue.jsxs)("section",{className:"".concat(De.a.content,"  mt-10"),children:[Object(Ue.jsx)("h1",{className:"text  text_type_main-large  mb-5",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(Ue.jsx)(Fe,{inViewBuns:r,inViewSauces:i,inViewMains:u}),Object(Ue.jsxs)("section",{className:"".concat(De.a.ingredientsWrapper,"  scroll"),children:[Object(Ue.jsx)(Xe,{title:"\u0411\u0443\u043b\u043a\u0438",type:"bun",groupId:"buns",ref:n}),Object(Ue.jsx)(Xe,{title:"\u0421\u043e\u0443\u0441\u044b",type:"sauce",groupId:"sauces",ref:s}),Object(Ue.jsx)(Xe,{title:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",type:"main",groupId:"main",ref:l})]})]})},$e=n(120),et=n.n($e),tt=n(57),nt=n.n(tt),rt=function(){var e=ke(),t=Ie((function(e){return e.order})),n=t.constructorElementsIds,a=t.isLoading,c=Ie((function(e){return e.burger})),s=c.constructorIngredients,i=c.bun,o=Ie((function(e){return e.auth.isLoggedIn})),d=Object(Le.g)(),l=Object(r.useMemo)((function(){var e=i?2*i.price:0;return(s?s.reduce((function(e,t){return e+t.price}),0):0)+e}),[s,i]),u={ingredients:n},j=Object(Ue.jsx)(Ge.Button,{type:"primary",size:"large",onClick:function(){o?e(H(u)):d.replace("/login")},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"});return Object(Ue.jsxs)("section",{className:nt.a.totalWrapper,children:[Object(Ue.jsxs)("div",{className:nt.a.priceWrapper,children:[Object(Ue.jsx)("span",{className:nt.a.price,children:l}),Object(Ue.jsx)(Ge.CurrencyIcon,{type:"primary"})]}),a?Object(Ue.jsx)("span",{className:nt.a.loader,children:"\u041e\u0444\u043e\u0440\u043c\u043b\u044f\u0435\u043c \u0437\u0430\u043a\u0430\u0437"}):i&&j]})},at=n(218),ct=n(39),st=n.n(ct),it=n(71),ot=n.n(it),dt=function(e){var t=e.isLocked,n=e.draggable,a=e.text,c=e.thumbnail,s=e.price,i=e.id,o=e.idx,d=ke(),l=Object(r.useRef)(null),u=Object(Ae.a)({type:"constructor",item:{idx:o},collect:function(e){return{isDragging:e.isDragging()}}}),j=Object(Be.a)(u,2),p=j[0].isDragging,m=j[1],b=Object(at.a)({accept:"constructor",collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e,t){var n;if(l.current){var r=e.idx,a=o;if(r!==a){var c=null===(n=l.current)||void 0===n?void 0:n.getBoundingClientRect(),s=(c.bottom-c.top)/2,i=t.getClientOffset().y-c.top;r<a&&i<s||r>a&&i>s||(d(ee({dragIndex:r,hoverIndex:a})),e.idx=a)}}}}),f=Object(Be.a)(b,2),x=f[0].handlerId;m((0,f[1])(l));var _=p?.25:1;return Object(Ue.jsxs)("li",{className:"".concat(ot.a.element," ").concat(n?ot.a.draggable:ot.a.fixed),style:{opacity:_},ref:l,"data-handler-id":x,children:[n&&Object(Ue.jsx)("span",{className:"mr-2",children:Object(Ue.jsx)(Ge.DragIcon,{type:"primary"})}),Object(Ue.jsx)(Ge.ConstructorElement,{isLocked:t,text:a,thumbnail:c,price:s,handleClose:function(){return i&&d($(i))}})]})},lt=function(){var e=ke(),t=Ie((function(e){return e.burger})),n=t.constructorIngredients,a=t.bun;Object(r.useEffect)((function(){var t=n.map((function(e){return e._id}));a&&t.push(a._id),t.length&&e(z(t))}),[e,n,a]);var c=Object(at.a)({accept:"ingredient",collect:function(e){return{isHover:e.isOver()}},drop:function(t){!function(t){"bun"===t.type?e(X(t)):e(K(t))}(t)}}),s=Object(Be.a)(c,2),i=s[0].isHover,o=s[1],d=i&&"rgba(133, 133, 173, 0.5)",l=n.map((function(e,t){var n=e.constructorIngredientId,r=e.name,a=e.image,c=e.price;return Object(Ue.jsx)(dt,{draggable:!0,text:r,thumbnail:a,price:c,id:n,idx:t},n)})),u=a||n.length?Object(Ue.jsxs)(Ue.Fragment,{children:[a&&Object(Ue.jsx)("div",{className:st.a.bun,children:Object(Ue.jsx)(Ge.ConstructorElement,{type:"top",isLocked:!0,text:"".concat(a.name," (\u0432\u0435\u0440\u0445)"),thumbnail:a.image,price:a.price})}),Object(Ue.jsx)("ul",{className:"".concat(st.a.ingredientsWrapper,"  ").concat(st.a.scrollHeight,"  scroll  pr-2"),children:l}),a&&Object(Ue.jsx)("div",{className:st.a.bun,children:Object(Ue.jsx)(Ge.ConstructorElement,{type:"bottom",isLocked:!0,text:"".concat(a.name," (\u043d\u0438\u0437)"),thumbnail:a.image,price:a.price})})]}):Object(Ue.jsx)("h2",{className:st.a.title,children:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b \u0432 \u044d\u0442\u0443 \u043e\u0431\u043b\u0430\u0441\u0442\u044c"});return Object(Ue.jsx)("section",{className:"".concat(st.a.ingredientsWrapper,"  ").concat(st.a.fixedHeight,"  mb-10"),style:{backgroundColor:d},ref:o,children:u})},ut=function(){var e=Ie((function(e){return e.burger})),t=e.constructorIngredients,n=e.bun;return Object(Ue.jsxs)("div",{className:et.a.content,children:[Object(Ue.jsx)(lt,{}),n||t.length?Object(Ue.jsx)(rt,{}):null]})},jt=function(){return Object(Ue.jsx)("main",{className:"".concat(Me.a.main,"  pl-5  pr-5"),children:Object(Ue.jsxs)(Te.a,{backend:Ee.a,children:[Object(Ue.jsx)(Ke,{}),Object(Ue.jsx)(ut,{})]})})},pt=function(){return Object(Ue.jsx)("h1",{className:"text_centered  text  text_type_main-large  mt-30",children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :("})},mt=n(41),bt=n.n(mt),ft=n(121),xt=n.n(ft),_t=function(e){var t=e.onModalClose;return Object(Ue.jsx)("div",{className:xt.a.overlay,onClick:t})},Ot=document.getElementById("modals"),ht=function(e){var t=e.title,n=void 0===t?"":t,a=e.orderNumber,s=void 0===a?"":a,i=e.children,o=e.onModalClose;return Object(r.useEffect)((function(){var e=function(e){"Escape"===e.key&&o()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[o]),Ot&&Object(c.createPortal)(Object(Ue.jsxs)("div",{className:bt.a.wrapper,children:[Object(Ue.jsxs)("section",{className:"".concat(bt.a.modal,"  ").concat(""!==n?"pb-15":"pt-15  pb-30","  p-10"),children:[Object(Ue.jsxs)("div",{className:"".concat(bt.a.header,"  ").concat(""!==n?"pt-3  pb-3":"mb-9"),children:[n&&Object(Ue.jsx)("h2",{className:"".concat(bt.a.title,"  text  text_type_main-large"),children:n}),s&&Object(Ue.jsxs)("h2",{className:"".concat(bt.a.title,"  text  text_type_digits-default"),children:["#",s]}),Object(Ue.jsx)("span",{className:bt.a.icon,onClick:o,children:Object(Ue.jsx)(Ge.CloseIcon,{type:"primary"})})]}),i]}),Object(Ue.jsx)(_t,{onModalClose:o})]}),Ot)},gt=n(46),vt=n.n(gt),Nt=n.p+"static/media/done.e036971b.png",yt=function(e){var t=e.orderId;return Object(Ue.jsxs)("section",{children:[Object(Ue.jsx)("h2",{className:"".concat(vt.a.title,"  mb-4  text  text_type_digits-large"),children:t}),Object(Ue.jsx)("span",{className:"".concat(vt.a.titleText,"  mb-15  text  text_type_main-medium"),children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(Ue.jsx)("img",{className:"".concat(vt.a.icon,"  mb-15"),src:Nt,alt:"order done",width:120,height:120}),Object(Ue.jsx)("span",{className:"".concat(vt.a.text,"  text  text_type_main-default  mb-2"),children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(Ue.jsx)("span",{className:"".concat(vt.a.text,"  text  text_type_main-default  text_color_inactive"),children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},wt=function(){var e=ke(),t=Ie((function(e){return e.order})),n=t.orderId,r=t.isOrderModalOpened,a=Ie((function(e){return e.burger})),c=a.hasError,s=a.isLoading,i=c?Object(Ue.jsx)(pt,{}):Object(Ue.jsx)(jt,{});return Object(Ue.jsxs)(Ue.Fragment,{children:[!s&&i,r&&n&&Object(Ue.jsx)(ht,{onModalClose:function(){return e(J())},children:Object(Ue.jsx)(yt,{orderId:n})})]})},Ct=n(72),It=n.n(Ct),kt=n(122),Wt=n.n(kt),Lt=n(20),Tt=n.n(Lt),Et=function(e){e._id;var t=e.number,n=e.name,a=e.ingredients,c=e.createdAt,s=Object(Le.h)(),i=Ie((function(e){return e.burger})).ingredients,d=M(c),l=Object(r.useMemo)((function(){return i.filter((function(e){return a.includes(e._id)}))}),[a,i]),u=Object(r.useMemo)((function(){return l.reduce((function(e,t){return"bun"===t.type?e+2*t.price:e+t.price}),0)}),[l]);return Object(Ue.jsx)(Ue.Fragment,{children:l.length&&u&&Object(Ue.jsx)("li",{children:Object(Ue.jsxs)(o.b,{className:Tt.a.item,to:{pathname:"/feed"===s.pathname?"/feed/".concat(t):"/profile/orders/".concat(t),state:{background:s}},children:[Object(Ue.jsxs)("div",{className:"".concat(Tt.a.flexWrapper,"  mb-6"),children:[Object(Ue.jsxs)("span",{className:Tt.a.order,children:["#",t]}),Object(Ue.jsx)("span",{className:Tt.a.datetime,children:d})]}),Object(Ue.jsx)("span",{className:Tt.a.name,children:n}),Object(Ue.jsxs)("div",{className:Tt.a.flexWrapper,children:[Object(Ue.jsx)("ul",{className:Tt.a.images,children:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];e.length>5&&5===n?t.push(Object(Ue.jsxs)("li",{className:Tt.a.imagesItem,children:[Object(Ue.jsx)("img",{className:Tt.a.image,src:r.image_mobile,alt:r.name,width:"64",height:"64"}),Object(Ue.jsxs)("span",{className:Tt.a.count,children:["+",e.length-5]})]},r._id)):t.push(Object(Ue.jsx)("li",{className:Tt.a.imagesItem,children:Object(Ue.jsx)("img",{className:Tt.a.image,src:r.image_mobile,alt:r.name,width:"64",height:"64"})},r._id))}return t}(l)}),Object(Ue.jsxs)("div",{className:Tt.a.priceWrapper,children:[Object(Ue.jsx)("span",{className:Tt.a.price,children:u}),Object(Ue.jsx)(Ge.CurrencyIcon,{type:"primary"})]})]})]})})})},St=function(){var e=Ie((function(e){return e.feed.orders}));return e&&Object(Ue.jsx)("ul",{className:"".concat(Wt.a.list,"  scroll"),children:e.map((function(e){return Object(Ue.jsx)(Et,Object(j.a)({},e),e._id)}))})},Mt=n(15),Bt=n.n(Mt),Rt=function(){var e=Ie((function(e){return e.feed})),t=e.total,n=e.totalToday,r=e.orders,a=[],c=[];return r.slice(0,20).forEach((function(e){return"done"===e.status?a.push(e):c.push(e)})),Object(Ue.jsxs)("section",{className:Bt.a.feedStats,children:[Object(Ue.jsxs)("div",{className:Bt.a.flexWrapper,children:[Object(Ue.jsxs)("div",{className:Bt.a.orderNumbers,children:[Object(Ue.jsx)("span",{className:Bt.a.orderStatus,children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(Ue.jsx)("ul",{className:Bt.a.list,children:a.map((function(e){var t=e._id,n=e.number;return Object(Ue.jsx)("li",{className:"".concat(Bt.a.digits," ").concat(Bt.a.textGreen),children:n},t)}))})]}),Object(Ue.jsxs)("div",{className:Bt.a.orderNumbers,children:[Object(Ue.jsx)("span",{className:Bt.a.orderStatus,children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),Object(Ue.jsx)("ul",{className:Bt.a.list,children:c.map((function(e){var t=e._id,n=e.number;return Object(Ue.jsx)("li",{className:Bt.a.digits,children:n},t)}))})]})]}),Object(Ue.jsxs)("div",{className:Bt.a.totalWrapper,children:[Object(Ue.jsx)("span",{className:Bt.a.totalTitle,children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(Ue.jsx)("span",{className:"".concat(Bt.a.digits," ").concat(Bt.a.digitsLarge),children:t})]}),Object(Ue.jsxs)("div",{className:Bt.a.totalWrapper,children:[Object(Ue.jsx)("span",{className:Bt.a.totalTitle,children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(Ue.jsx)("span",{className:"".concat(Bt.a.digits," ").concat(Bt.a.digitsLarge),children:n})]})]})},Pt=function(){return Object(Ue.jsx)("h1",{className:"text_centered  text  text_type_main-large  mt-30",children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f"})},Dt=function(){var e=ke(),t=Ie((function(e){return e.feed.orders}));return Object(r.useEffect)((function(){return e(be(k)),function(){return e(fe())}}),[e]),Object(Ue.jsxs)("div",{className:It.a.feedWrapper,children:[!t.length&&Object(Ue.jsx)(Pt,{}),!!t.length&&Object(Ue.jsxs)(Ue.Fragment,{children:[Object(Ue.jsx)("h1",{className:"".concat(It.a.title),children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(Ue.jsxs)("main",{className:"".concat(It.a.main),children:[Object(Ue.jsx)(St,{}),Object(Ue.jsx)(Rt,{})]})]})]})},Ht=n(98),Vt=n.n(Ht),Gt=n(25),Ut=n.n(Gt),Ft=function(){var e=Ie((function(e){return e.burger})).ingredients,t=Ie((function(e){return e.order.order})),n=t.name,a=t.status,c=t.ingredients,s=t.createdAt,i=M(s),o=Object(r.useMemo)((function(){return e.filter((function(e){return c.includes(e._id)}))}),[c,e]),d=Object(r.useMemo)((function(){return o.reduce((function(e,t){return"bun"===t.type?e+2*t.price:e+t.price}),0)}),[o]);return Object(Ue.jsxs)("section",{children:[Object(Ue.jsx)("h2",{className:"".concat(Ut.a.title,"  mb-3"),children:n}),Object(Ue.jsx)("span",{className:Ut.a.status,children:"done"===a?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d":"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435"}),Object(Ue.jsx)("span",{className:"".concat(Ut.a.title,"  mb-6"),children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(Ue.jsx)("ul",{className:"".concat(Ut.a.list," scroll"),children:o.map((function(e){var t=e._id,n=e.image_mobile,r=e.name,a=e.price,c=e.type;return Object(Ue.jsxs)("li",{className:Ut.a.item,children:[Object(Ue.jsx)("span",{className:Ut.a.imgWrapper,children:Object(Ue.jsx)("img",{className:Ut.a.img,src:n,alt:r,width:"64",height:"64"})}),Object(Ue.jsx)("span",{className:Ut.a.ingredient,children:r}),Object(Ue.jsxs)("div",{className:Ut.a.flexWrapper,children:[Object(Ue.jsx)("span",{children:"bun"===c?2:1}),"x",Object(Ue.jsx)("span",{children:a}),Object(Ue.jsx)(Ge.CurrencyIcon,{type:"primary"})]})]},t)}))}),Object(Ue.jsxs)("div",{className:Ut.a.total,children:[Object(Ue.jsx)("span",{className:Ut.a.datetime,children:i}),Object(Ue.jsx)("span",{className:Ut.a.price,children:d}),Object(Ue.jsx)(Ge.CurrencyIcon,{type:"primary"})]})]})},Jt=function(){var e=ke(),t=Object(Le.i)().id,n=Ie((function(e){return e.order.order}));return Object(r.useEffect)((function(){e(V(t))}),[e,t]),Object(Ue.jsx)("div",{className:Vt.a.wrapper,children:n&&Object(Ue.jsxs)(Ue.Fragment,{children:[Object(Ue.jsxs)("span",{className:Vt.a.number,children:["#",n.number]}),Object(Ue.jsx)(Ft,{})]})})},zt=n(27),At=n(4),qt=n.n(At),Yt=function(){var e=ke(),t=Object(r.useState)({email:"",password:""}),n=Object(Be.a)(t,2),a=n[0],c=n[1],s=Ie((function(e){return e.auth})).isLoading,i=function(e){var t=e.target.value,n=e.target.name;c(Object(j.a)(Object(j.a)({},a),{},Object(zt.a)({},n,t)))};return Object(Ue.jsxs)("section",{className:qt.a.formWrapper,children:[Object(Ue.jsxs)("form",{className:qt.a.form,onSubmit:function(t){t.preventDefault(),e(je(a))},children:[Object(Ue.jsx)("h2",{className:qt.a.formTitle,children:"\u0412\u0445\u043e\u0434"}),Object(Ue.jsx)("div",{className:qt.a.inputWrapper,children:Object(Ue.jsx)(Ge.Input,{type:"email",placeholder:"Email",onChange:i,value:a.email,name:"email"})}),Object(Ue.jsx)("div",{className:qt.a.inputWrapper,children:Object(Ue.jsx)(Ge.PasswordInput,{onChange:i,value:a.password,name:"password"})}),s?Object(Ue.jsx)("span",{className:"text text_type_main-default",children:"\u0418\u0434\u0451\u0442 \u0437\u0430\u043f\u0440\u043e\u0441..."}):Object(Ue.jsx)(Ge.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(Ue.jsxs)("div",{className:"".concat(qt.a.flexWrapper,"  mb-4"),children:[Object(Ue.jsx)("span",{className:qt.a.formText,children:"\u0412\u044b \u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?"}),Object(Ue.jsx)(o.b,{className:qt.a.formLink,to:"/register",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(Ue.jsxs)("div",{className:qt.a.flexWrapper,children:[Object(Ue.jsx)("span",{className:qt.a.formText,children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(Ue.jsx)(o.b,{className:qt.a.formLink,to:"/forgot-password",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})},Qt=function(){var e=ke(),t=Object(r.useState)({name:"",email:"",password:""}),n=Object(Be.a)(t,2),a=n[0],c=n[1],s=Ie((function(e){return e.auth})).isLoading,i=function(e){var t=e.target.value,n=e.target.name;c(Object(j.a)(Object(j.a)({},a),{},Object(zt.a)({},n,t)))};return Object(Ue.jsxs)("section",{className:qt.a.formWrapper,children:[Object(Ue.jsxs)("form",{className:qt.a.form,onSubmit:function(t){t.preventDefault(),e(ue(a))},children:[Object(Ue.jsx)("h2",{className:qt.a.formTitle,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(Ue.jsx)("div",{className:qt.a.inputWrapper,children:Object(Ue.jsx)(Ge.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:i,value:a.name,name:"name"})}),Object(Ue.jsx)("div",{className:qt.a.inputWrapper,children:Object(Ue.jsx)(Ge.Input,{type:"email",placeholder:"Email",onChange:i,value:a.email,name:"email"})}),Object(Ue.jsx)("div",{className:qt.a.inputWrapper,children:Object(Ue.jsx)(Ge.PasswordInput,{onChange:i,value:a.password,name:"password"})}),s?Object(Ue.jsx)("span",{className:"text text_type_main-default",children:"\u0418\u0434\u0451\u0442 \u0437\u0430\u043f\u0440\u043e\u0441..."}):Object(Ue.jsx)(Ge.Button,{type:"primary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(Ue.jsxs)("div",{className:qt.a.flexWrapper,children:[Object(Ue.jsx)("span",{className:qt.a.formText,children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(Ue.jsx)(o.b,{className:qt.a.formLink,to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},Zt=function(){var e=ke(),t=Object(Le.h)(),n=Object(r.useState)({email:""}),a=Object(Be.a)(n,2),c=a[0],s=a[1],i=Ie((function(e){return e.password})),d=i.isLoading;return i.isResetEmailSent?Object(Ue.jsx)(Le.a,{to:{pathname:"/reset-password",state:{from:t.pathname}}}):Object(Ue.jsxs)("section",{className:qt.a.formWrapper,children:[Object(Ue.jsxs)("form",{className:qt.a.form,onSubmit:function(t){t.preventDefault(),e(te(c))},children:[Object(Ue.jsx)("h2",{className:qt.a.formTitle,children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(Ue.jsx)("div",{className:qt.a.inputWrapper,children:Object(Ue.jsx)(Ge.Input,{type:"email",placeholder:"Email",onChange:function(e){var t=e.target.value,n=e.target.name;s(Object(j.a)(Object(j.a)({},c),{},Object(zt.a)({},n,t)))},value:c.email,name:"email"})}),d?Object(Ue.jsx)("span",{className:"text text_type_main-default",children:"\u0418\u0434\u0451\u0442 \u0437\u0430\u043f\u0440\u043e\u0441..."}):Object(Ue.jsx)(Ge.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(Ue.jsxs)("div",{className:qt.a.flexWrapper,children:[Object(Ue.jsx)("span",{className:qt.a.formText,children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(Ue.jsx)(o.b,{className:qt.a.formLink,to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},Xt=function(){var e=ke(),t=Object(r.useRef)(null),n=Object(r.useState)(!1),a=Object(Be.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)({password:"",token:""}),d=Object(Be.a)(i,2),l=d[0],u=d[1],p=Ie((function(e){return e.password})),m=p.isLoading,b=function(e){var t=e.target.value,n=e.target.name;u(Object(j.a)(Object(j.a)({},l),{},Object(zt.a)({},n,t)))};return p.isPasswordReset?Object(Ue.jsx)(Le.a,{to:"/login"}):Object(Ue.jsxs)("section",{className:qt.a.formWrapper,children:[Object(Ue.jsxs)("form",{className:qt.a.form,onSubmit:function(t){t.preventDefault(),e(ne(l))},children:[Object(Ue.jsx)("h2",{className:qt.a.formTitle,children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(Ue.jsx)("div",{className:qt.a.inputWrapper,children:Object(Ue.jsx)(Ge.Input,{ref:t,type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",icon:c?"HideIcon":"ShowIcon",onIconClick:function(){t&&t.current&&(t.current.type="password"===t.current.type?"text":"password",s((function(e){return!e})))},onChange:b,value:l.password,name:"password"})}),Object(Ue.jsx)("div",{className:qt.a.inputWrapper,children:Object(Ue.jsx)(Ge.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",onChange:b,value:l.token,name:"token"})}),m?Object(Ue.jsx)("span",{className:"text text_type_main-default",children:"\u0418\u0434\u0451\u0442 \u0437\u0430\u043f\u0440\u043e\u0441..."}):Object(Ue.jsx)(Ge.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})]}),Object(Ue.jsxs)("div",{className:qt.a.flexWrapper,children:[Object(Ue.jsx)("span",{className:qt.a.formText,children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(Ue.jsx)(o.b,{className:qt.a.formLink,to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},Kt=n(73),$t=n.n(Kt),en=function(){return Object(Ue.jsxs)("div",{className:$t.a.wrapper,children:[Object(Ue.jsx)("h1",{className:$t.a.title,children:"404"}),Object(Ue.jsx)("span",{className:$t.a.text,children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})]})},tn=n(66),nn=n.n(tn),rn=n(33),an=n.n(rn),cn=function(){var e=ke(),t=Ie((function(e){return e.auth.isLoading}));return Object(Ue.jsxs)("section",{className:an.a.nav,children:[Object(Ue.jsxs)("ul",{className:an.a.list,children:[Object(Ue.jsx)("li",{children:Object(Ue.jsx)(o.c,{className:an.a.link,activeClassName:an.a.activeLink,to:"/profile",exact:!0,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(Ue.jsx)("li",{children:Object(Ue.jsx)(o.c,{className:an.a.link,activeClassName:an.a.activeLink,to:"/profile/orders",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(Ue.jsx)("li",{children:t?Object(Ue.jsx)("button",{className:"".concat(an.a.link," ").concat(an.a.button),children:"\u0418\u0434\u0451\u0442 \u0437\u0430\u043f\u0440\u043e\u0441..."}):Object(Ue.jsx)("button",{className:"".concat(an.a.link," ").concat(an.a.button),onClick:function(t){t.preventDefault(),e(pe())},children:"\u0412\u044b\u0445\u043e\u0434"})})]}),Object(Ue.jsxs)("p",{className:an.a.info,children:["\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435",Object(Ue.jsx)("br",{})," \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"]})]})},sn=n(47),on=n.n(sn),dn=function(){var e=ke(),t=Ie((function(e){return e.user})),n=t.user,a=t.isLoading,c=Object(r.useState)({name:"",email:"",password:""}),s=Object(Be.a)(c,2),i=s[0],o=s[1];Object(r.useEffect)((function(){e(ie())}),[e]),Object(r.useEffect)((function(){n&&o((function(e){return Object(j.a)(Object(j.a)({},e),{},{name:n.name,email:n.email})}))}),[n]);var d=function(e){var t=e.target.value,n=e.target.name;o(Object(j.a)(Object(j.a)({},i),{},Object(zt.a)({},n,t)))},l=function(e){e.preventDefault(),n&&o({name:n.name,email:n.email,password:""})};return n&&Object(Ue.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(oe(i))},className:on.a.form,children:[Object(Ue.jsx)("div",{className:on.a.inputWrapper,children:Object(Ue.jsx)(Ge.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:d,icon:"EditIcon",value:i.name,name:"name"})}),Object(Ue.jsx)("div",{className:on.a.inputWrapper,children:Object(Ue.jsx)(Ge.Input,{type:"email",placeholder:"\u041b\u043e\u0433\u0438\u043d",onChange:d,icon:"EditIcon",value:i.email,name:"email"})}),Object(Ue.jsx)("div",{className:on.a.inputWrapper,children:Object(Ue.jsx)(Ge.Input,{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:d,icon:"EditIcon",value:i.password,name:"password"})}),a?Object(Ue.jsx)("span",{className:"text text_type_main-default text_centered",children:"\u0418\u0434\u0451\u0442 \u0437\u0430\u043f\u0440\u043e\u0441..."}):Object(Ue.jsxs)("div",{className:on.a.buttonsWrapper,children:[Object(Ue.jsx)(Ge.Button,{type:"secondary",size:"medium",onClick:function(){return l},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(Ue.jsx)(Ge.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})},ln=function(){return Object(Ue.jsxs)("div",{className:nn.a.flexWrapper,children:[Object(Ue.jsx)(cn,{}),Object(Ue.jsx)(dn,{})]})},un=function(){var e=ke(),t=Ie((function(e){return e.feed.orders}));return Object(r.useEffect)((function(){return e(be("".concat(_,"?token=").concat(B("accessToken")))),function(){return e(fe())}}),[e]),Object(Ue.jsxs)("div",{className:nn.a.flexWrapper,children:[Object(Ue.jsx)(cn,{}),!t.length&&Object(Ue.jsx)(Pt,{}),!!t.length&&Object(Ue.jsx)(St,{})]})},jn=n(123),pn=n.n(jn),mn=n(19),bn=n.n(mn),fn=function(e){var t=e.withTitle,n=Object(Le.i)().id,r=Ie((function(e){return e.burger.ingredients})).find((function(e){return e._id===n})),a=r.image_large,c=r.name,s=r.calories,i=r.proteins,o=r.fat,d=r.carbohydrates;return Object(Ue.jsxs)("section",{children:[t&&Object(Ue.jsx)("h2",{className:bn.a.title,children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(Ue.jsx)("img",{className:"".concat(bn.a.image,"  mb-4"),src:a,alt:c,width:480,height:240}),Object(Ue.jsx)("span",{className:"".concat(bn.a.name,"  mb-8"),children:c}),Object(Ue.jsxs)("section",{className:bn.a.flexWrapper,children:[Object(Ue.jsxs)("div",{className:"mr-5",children:[Object(Ue.jsx)("span",{className:"".concat(bn.a.text,"  text_type_main-default  mb-2"),children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(Ue.jsx)("span",{className:"".concat(bn.a.text,"  ").concat(bn.a.amount),children:s})]}),Object(Ue.jsxs)("div",{className:"mr-5",children:[Object(Ue.jsx)("span",{className:"".concat(bn.a.text,"  text_type_main-default  mb-2"),children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(Ue.jsx)("span",{className:"".concat(bn.a.text,"  ").concat(bn.a.amount),children:i})]}),Object(Ue.jsxs)("div",{className:"mr-5",children:[Object(Ue.jsx)("span",{className:"".concat(bn.a.text,"  text_type_main-default  mb-2"),children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(Ue.jsx)("span",{className:"".concat(bn.a.text,"  ").concat(bn.a.amount),children:o})]}),Object(Ue.jsxs)("div",{children:[Object(Ue.jsx)("span",{className:"".concat(bn.a.text,"  text_type_main-default  mb-2"),children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(Ue.jsx)("span",{className:"".concat(bn.a.text,"  ").concat(bn.a.amount),children:d})]})]})]})},xn=function(){return Object(Ue.jsx)("div",{className:pn.a.wrapper,children:Object(Ue.jsx)(fn,{withTitle:!0})})},_n=n(124),On=n.n(_n),hn=n(58),gn=n.n(hn),vn=n(74),Nn=n.n(vn),yn=function(e){var t=e.Icon,n=e.text,r=e.to;return Object(Ue.jsxs)(o.c,{className:Nn.a.link,activeClassName:Nn.a.active,to:r,exact:!0,children:[Object(Ue.jsx)(t,{}),Object(Ue.jsx)("span",{className:Nn.a.text,children:n})]})},wn=n(125),Cn=n.n(wn),In=function(){return Object(Ue.jsx)(o.b,{className:Cn.a.logo,to:"/",children:Object(Ue.jsx)(Ge.Logo,{})})},kn=n(126),Wn=n.n(kn),Ln=function(){return Object(Ue.jsx)("div",{className:Wn.a.profile,children:Object(Ue.jsx)(yn,{Icon:Ge.ProfileIcon,text:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",to:"/profile"})})},Tn=function(){return Object(Ue.jsxs)("nav",{className:gn.a.nav,children:[Object(Ue.jsxs)("ul",{className:gn.a.list,children:[Object(Ue.jsx)("li",{className:gn.a.item,children:Object(Ue.jsx)(yn,{Icon:Ge.BurgerIcon,text:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440",to:"/"})}),Object(Ue.jsx)("li",{className:gn.a.item,children:Object(Ue.jsx)(yn,{Icon:Ge.ListIcon,text:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432",to:"/feed"})})]}),Object(Ue.jsx)(In,{}),Object(Ue.jsx)(Ln,{})]})},En=function(){return Object(Ue.jsx)("header",{className:On.a.header,children:Object(Ue.jsx)(Tn,{})})},Sn=n(45),Mn=function(e){var t=e.children,n=Object(Sn.a)(e,["children"]),r=Ie((function(e){return e.auth.isLoggedIn}));return Object(Ue.jsx)(Le.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){var n=e.location;return r?t:Object(Ue.jsx)(Le.a,{to:{pathname:"/login",state:{from:n}}})}}))},Bn=function(e){var t=e.children,n=Object(Sn.a)(e,["children"]),r=Ie((function(e){return e.auth.isLoggedIn}));return Object(Ue.jsx)(Le.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){var n,a=e.location.state;return r?Object(Ue.jsx)(Le.a,{to:(null===a||void 0===a||null===(n=a.from)||void 0===n?void 0:n.pathname)||"/"}):t}}))},Rn=function(e){var t=e.children,n=Object(Sn.a)(e,["children"]),r=Ie((function(e){return e.auth.isLoggedIn}));return Object(Ue.jsx)(Le.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){var n=e.location.state;return r||"/forgot-password"!==(null===n||void 0===n?void 0:n.from)?Object(Ue.jsx)(Le.a,{to:"/"}):t}}))},Pn=function(e){var t=e.onModalClose,n=ke(),a=Object(Le.i)().id,c=Ie((function(e){return e.order.order}));return Object(r.useEffect)((function(){n(V(a))}),[n,a]),c&&Object(Ue.jsx)(ht,{orderNumber:c.number,onModalClose:t,children:Object(Ue.jsx)(Ft,{})})},Dn=function(){var e=ke(),t=Object(Le.h)(),n=Object(Le.g)(),a=B("accessToken"),c=Ie((function(e){return e.burger})),s=c.ingredients,i=c.isLoading,o="PUSH"===n.action&&t.state&&t.state.background;Object(r.useEffect)((function(){console.log("hi there")}),[]),Object(r.useEffect)((function(){!s.length&&e(q()),a&&e(ie())}),[e,a,s]);var d=function(){e(A()),n.goBack()};return Object(Ue.jsxs)(Ue.Fragment,{children:[Object(Ue.jsx)(En,{}),i&&Object(Ue.jsx)(Pt,{}),!!s.length&&Object(Ue.jsxs)(Ue.Fragment,{children:[Object(Ue.jsxs)(Le.d,{location:o||t,children:[Object(Ue.jsx)(Le.b,{exact:!0,path:"/",children:Object(Ue.jsx)(wt,{})}),Object(Ue.jsx)(Bn,{exact:!0,path:"/login",children:Object(Ue.jsx)(Yt,{})}),Object(Ue.jsx)(Bn,{exact:!0,path:"/register",children:Object(Ue.jsx)(Qt,{})}),Object(Ue.jsx)(Bn,{exact:!0,path:"/forgot-password",children:Object(Ue.jsx)(Zt,{})}),Object(Ue.jsx)(Rn,{exact:!0,path:"/reset-password",children:Object(Ue.jsx)(Xt,{})}),Object(Ue.jsx)(Le.b,{exact:!0,path:"/ingredients/:id",children:Object(Ue.jsx)(xn,{})}),Object(Ue.jsx)(Le.b,{exact:!0,path:"/feed",children:Object(Ue.jsx)(Dt,{})}),Object(Ue.jsx)(Le.b,{exact:!0,path:"/feed/:id",children:Object(Ue.jsx)(Jt,{})}),Object(Ue.jsx)(Mn,{exact:!0,path:"/profile",children:Object(Ue.jsx)(ln,{})}),Object(Ue.jsx)(Mn,{exact:!0,path:"/profile/orders",children:Object(Ue.jsx)(un,{})}),Object(Ue.jsx)(Mn,{exact:!0,path:"/profile/orders/:id",children:Object(Ue.jsx)(Jt,{})}),Object(Ue.jsx)(Le.b,{children:Object(Ue.jsx)(en,{})})]}),o&&Object(Ue.jsxs)(Le.d,{children:[Object(Ue.jsx)(Le.b,{exact:!0,path:"/ingredients/:id",children:Object(Ue.jsx)(ht,{title:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",onModalClose:function(){return n.goBack()},children:Object(Ue.jsx)(fn,{})})}),Object(Ue.jsx)(Le.b,{exact:!0,path:"/feed/:id",children:Object(Ue.jsx)(Pn,{onModalClose:d})}),Object(Ue.jsx)(Mn,{exact:!0,path:"/profile/orders/:id",children:Object(Ue.jsx)(Pn,{onModalClose:d})})]})]})]})};s.a.render(Object(Ue.jsx)(a.a.StrictMode,{children:Object(Ue.jsx)(i.a,{store:We,children:Object(Ue.jsx)(o.a,{children:Object(Ue.jsx)(Dn,{})})})}),document.getElementById("root"))},25:function(e,t,n){e.exports={title:"order-info_title__pFu8N text text_type_main-medium",status:"order-info_status__qG-Du text text_type_main-default mb-15",list:"order-info_list__1sEBM mb-10 pr-6",item:"order-info_item__29Wuv mb-4",imgWrapper:"order-info_imgWrapper__1avXy mr-4",img:"order-info_img__38OCx",ingredient:"order-info_ingredient__3Izos text text_type_main-default mr-4",flexWrapper:"order-info_flexWrapper__24yJg text text_type_digits-default",total:"order-info_total__3EE0G",datetime:"order-info_datetime__1FCRb text text_type_main-default text_color_inactive",price:"order-info_price__1WM52 text text_type_digits-default mr-2"}},33:function(e,t,n){e.exports={nav:"profile-nav_nav__3yYgt mr-15",list:"profile-nav_list__2_bMa mb-20",link:"profile-nav_link__1Vj5t text text_type_main-medium text_color_inactive pt-4 pb-4",button:"profile-nav_button__2drUT",activeLink:"profile-nav_activeLink__1L6Mh",info:"profile-nav_info__1mk-Z text text_type_main-default text_color_inactive"}},38:function(e,t,n){e.exports={item:"ingredient_item__1ERU3",image:"ingredient_image__313gV",priceWrapper:"ingredient_priceWrapper__31AOk",price:"ingredient_price__2PcWj text text_type_digits-default mr-2",name:"ingredient_name__-tei_ text text_type_main-default",link:"ingredient_link__1LjSh",ingredient:"ingredient_ingredient__vpDo8 pl-4 pr-4 mb-1"}},39:function(e,t,n){e.exports={ingredientsWrapper:"ingredients-list_ingredientsWrapper__1rHtF pr-2",fixedHeight:"ingredients-list_fixedHeight__3vjVw",scrollHeight:"ingredients-list_scrollHeight__2J5MN",title:"ingredients-list_title__11uUH text text_type_main-medium",bun:"ingredients-list_bun__243lU pl-8 pr-4"}},4:function(e,t,n){e.exports={formWrapper:"form_formWrapper__2VnMU",form:"form_form__3i3Ce mb-20",formTitle:"form_formTitle__1gszs text text_type_main-medium mb-6",inputWrapper:"form_inputWrapper__G7dR1 mb-6",flexWrapper:"form_flexWrapper__17-ZQ",formText:"form_formText__1Ex0s text text_type_main-default text_color_inactive mr-2",formLink:"form_formLink__3tq_l text text_type_main-default"}},41:function(e,t,n){e.exports={wrapper:"modal_wrapper__1K9BY",modal:"modal_modal__1Gyg0",header:"modal_header__14lFl",title:"modal_title__16YV7",icon:"modal_icon__3Bv0A"}},46:function(e,t,n){e.exports={title:"order-details_title__24EIu",titleText:"order-details_titleText__2OqEr",icon:"order-details_icon__2mJ4o",text:"order-details_text__49U_i"}},47:function(e,t,n){e.exports={form:"profile-form_form__1fK_p mb-6",inputWrapper:"profile-form_inputWrapper__1CBbg mb-6",buttonsWrapper:"profile-form_buttonsWrapper__1hTP1"}},57:function(e,t,n){e.exports={totalWrapper:"cart_totalWrapper__3IyYS mr-4",priceWrapper:"cart_priceWrapper__9-ejy mr-10",price:"cart_price__3Dt3H text text_type_digits-medium mr-2",loader:"cart_loader__3mABy text text_type_main-medium"}},58:function(e,t,n){e.exports={nav:"nav_nav__3FsUG",list:"nav_list__A1VvR",item:"nav_item__12Ux8"}},66:function(e,t,n){e.exports={flexWrapper:"profile_flexWrapper__33jA1 pt-30"}},71:function(e,t,n){e.exports={element:"burger-element_element__rJMCh pl-8",draggable:"burger-element_draggable__3uQ0G",fixed:"burger-element_fixed__rK1Ye pr-4"}},72:function(e,t,n){e.exports={feedWrapper:"feed_feedWrapper__17l8P mt-10",title:"feed_title__kIcHI text text_type_main-large mb-5 pl-2",main:"feed_main__3jcoA"}},73:function(e,t,n){e.exports={wrapper:"not-found_wrapper__1ySdQ",title:"not-found_title__3y482 text text_type_digits-large",text:"not-found_text__yEXzQ text text_type_main-large"}},74:function(e,t,n){e.exports={link:"link-item_link__4b3zW text text_type_main-default text_color_inactive p-4 pl-5 pr-5",text:"link-item_text__XkUQ9 ml-2",active:"link-item_active__6JvV9"}},93:function(e,t,n){e.exports={content:"burger-ingredients_content__2a2gm",ingredientsWrapper:"burger-ingredients_ingredientsWrapper__3Jvhu"}},98:function(e,t,n){e.exports={wrapper:"feed-order_wrapper__3cJMm mt-30",number:"feed-order_number__1ty-W text text_type_digits-default mb-10"}}},[[209,1,2]]]);
//# sourceMappingURL=main.2c056563.chunk.js.map